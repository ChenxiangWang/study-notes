经过多次尝试写promise的函数，又尝试用promise完成任务串行执行（LazyMan的串行任务）后，慢慢意识到promise的精髓还是集中在两点：1. 发布订阅模式 2.事件循环。
then本身的机制是返回了一个新的promise对象，并且这个对象的内部状态订阅了老的promise的状态，当老的promise状态发生变化的时候，会将消息推送至订阅函数，订阅函数的队列是在一个微任务中遍历执行的。
这也是then回掉被延迟执行的本质。

如果让我用一句话来总结promise,我想应该是：消息的同步订阅，与异步推送。 真的非常佩服第一想出promise实现机制的人。真是聪明！
